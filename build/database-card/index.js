(()=>{"use strict";var e,a={728:()=>{const e=window.wp.blocks,a=window.wp.i18n,t=window.wp.blockEditor,r=window.wp.data,s=window.wp.htmlEntities,i=window.ReactJSXRuntime,o=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prometheus/database-card","title":"Database Card Block","category":"widgets","icon":"database","description":"Display a database entry as a card.","supports":{"html":false},"usesContext":["postId"],"attributes":{},"textdomain":"prom-blocks","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","render":"file:./render.php"}');(0,e.registerBlockType)(o,{edit:function({context:e}){var o,d;const n=(0,t.useBlockProps)({className:"database-card"}),l=e?.postId,c=(0,r.useSelect)((e=>l?e("core").getEntityRecord("postType","database",l):null),[l]),p=(0,r.useSelect)((e=>c?.featured_media?e("core").getEntityRecord("postType","attachment",c.featured_media):null),[c?.featured_media]),u=c?.title?.rendered?(0,s.decodeEntities)(c.title.rendered):"",h=null!==(o=c?.meta?._database_source_link)&&void 0!==o?o:"#",b=c?.content?.rendered;return l?(0,i.jsxs)("div",{...n,children:[p&&(0,i.jsx)("div",{className:"database-card__image",children:(0,i.jsx)("a",{href:h,className:"database-card__link",target:"_blank",rel:"noopener noreferrer",children:(0,i.jsx)("img",{src:p.source_url,alt:null!==(d=p.alt_text)&&void 0!==d?d:u,className:"wp-post-featured-image"})})}),(0,i.jsx)("h2",{className:"database-card__title",children:(0,i.jsx)("a",{href:h,className:"database-card__link",target:"_blank",rel:"noopener noreferrer",children:u})}),b&&(0,i.jsx)(t.RichText.Content,{tagName:"div",className:"database-card__description",value:b})]}):(0,i.jsx)("div",{...n,children:(0,i.jsx)("p",{children:(0,a.__)("Database Card Block - Add this block inside a Post Template","database-cpt")})})}})}},t={};function r(e){var s=t[e];if(void 0!==s)return s.exports;var i=t[e]={exports:{}};return a[e](i,i.exports,r),i.exports}r.m=a,e=[],r.O=(a,t,s,i)=>{if(!t){var o=1/0;for(c=0;c<e.length;c++){for(var[t,s,i]=e[c],d=!0,n=0;n<t.length;n++)(!1&i||o>=i)&&Object.keys(r.O).every((e=>r.O[e](t[n])))?t.splice(n--,1):(d=!1,i<o&&(o=i));if(d){e.splice(c--,1);var l=s();void 0!==l&&(a=l)}}return a}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[t,s,i]},r.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={338:0,414:0};r.O.j=a=>0===e[a];var a=(a,t)=>{var s,i,[o,d,n]=t,l=0;if(o.some((a=>0!==e[a]))){for(s in d)r.o(d,s)&&(r.m[s]=d[s]);if(n)var c=n(r)}for(a&&a(t);l<o.length;l++)i=o[l],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(c)},t=globalThis.webpackChunkprometheus_blocks=globalThis.webpackChunkprometheus_blocks||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))})();var s=r.O(void 0,[414],(()=>r(728)));s=r.O(s)})();